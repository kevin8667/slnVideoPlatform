 <div class="card search-container flex flex-row md:flex-row gap-3 p-3">

</div>

<div class="container flex">
  <!-- 左側篩選器 -->
  <div class="filters">
    <div class="p-inputgroup" style="margin-bottom: 25px;">
      <span class="p-float-label" style="width: 250px;">
      <input type="text" inputId="float-label" pInputText [(ngModel)]="inputName" />
      <label for="float-label">影片名稱</label>
      </span>
    </div>
    <div style="margin-bottom: 25px;">
      <span class="p-float-label" style="width: 200px;">
        <p-chips [(ngModel)]="keyword" inputId="float-label"></p-chips>
        <label for="float-label">影片關鍵字</label>
      </span>
    </div>
    <div style="margin-bottom: 25px;">
      <p-dropdown [options]="types" [(ngModel)]="selectedType" optionLabel="typeName"
                  [showClear]="true" placeholder="作品形式"
                  (onChange)="searchVideoByFilters()"></p-dropdown>
    </div>
    <div style="margin-bottom: 25px;">
      <div class="genre-button-group">
        <h3>類型</h3>
        <div class="genre-buttons" >
          <button pRipple
            *ngFor="let genre of genres"
            (click)="toggleGenreSelection(genre.genreName)"
            [ngClass]="{'selected': isSelected(genre.genreName)}">
            {{ genre.genreName }}
          </button>
        </div>
      </div>
    </div>

    <div>
      <button type="button" pRipple pButton label="搜尋" (click)="searchVideos()" class="p-button-primary"></button>
    </div>
  </div>

    <!-- 右側電影卡片列表 -->
    <div class="movie-list">
        <p-dataView #dv [value]="videos" [rows]="pageSize" [paginator]="true"  [rowsPerPageOptions]="pageSizeOptions" [totalRecords]="totalRecords" paginatorDropdownAppendTo="body"  layout="grid" >
            <!-- 網格佈局 -->
            <ng-template let-video pTemplate="gridItem">
                <div class="col-12 sm:col-6 lg:col-4 xl:col-2 p-2"> <!-- 每行顯示 5 個卡片 -->
                    <a [routerLink]='"/video-db/details/"+video.videoId' style="text-decoration: none;">
                    <div class="p-4 border-1 surface-border surface-card border-round movie-card">
                        <div class="image-container">
                            <img class="thumbnail"
                                  [src]="video.thumbnailPath"
                                  [alt]="video.videoName" />
                        </div>
                        <div class="flex flex-column align-items-center gap-3 py-4">
                            <div class="text-2xl font-bold" >{{ video.videoName }}</div>
                        </div>
                    </div>
                    </a>
                </div>
            </ng-template>

        </p-dataView>
      </div>
</div>
